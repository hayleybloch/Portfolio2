(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[129],{222:(e,t,i)=>{"use strict";i.d(t,{wl:()=>c});var n=i(9299),o=i(8847),r=i.n(o),s=i(9547);let a=r()(()=>Promise.all([i.e(751),i.e(760)]).then(i.bind(i,8760)),{loadableGenerated:{webpack:()=>[8760]}});class l{constructor(){this.displayName="About",this.dockPriority=null,this.path="/Applications/",this.appName="About.app",this.appIcon={src:(0,s.A)("/icons/about-app.png"),alt:"About"},this.entrypoint=(e,t,i)=>new u(e,t,i)}}let c=new l;class u extends n.l{config(){return c}menuEntries(){return[{displayOptions:{boldText:!0},name:"About",items:[]}]}createNewWindow(e){let t=.85*window.innerWidth,i=.85*window.innerHeight-50,n=(window.innerWidth-t)/2;console.log("[About] Creating window with dimensions:",{x:n,y:50,width:t,height:i});let o=this.compositor.open({x:n,y:50,height:i,width:t,title:"About",application:this,args:e.args,generator:()=>a});return console.log("[About] Window created:",o),o}on(e,t){if(this.baseHandler(e,t),console.log("[About] Event received:",e.kind),"about-open-contact-event"===e.kind&&this.manager.open("/Applications/Contact.app"),"application-open"===e.kind&&(console.log("[About] Opening About window..."),this.createNewWindow(e)),"application-quit"===e.kind&&!t)return}}},925:(e,t,i)=>{"use strict";i.d(t,{aJ:()=>d,cv:()=>p,eI:()=>m,ti:()=>h});var n=i(1976),o=i(8684),r=i(3932),s=i(3681);function a(e,t){return 27===e.charCodeAt(t)}function l(e,t){return 91===e.charCodeAt(t)}function c(e,t){return 109===e.charCodeAt(t)}function u(e){if(e.length<1)return e.length;let t=0,i=0,n=!1;for(;i<e.length;){if(a(e,i)){i++;continue}a(e,i-1)&&l(e,i)&&(n=!0),!n&&t++,n&&c(e,i)&&(n=!1),i++}return t}function d(e){if(e.length<1)return"";let t="",i=0,n=!1;for(;i<e.length;){if(a(e,i)){i++;continue}a(e,i-1)&&l(e,i)&&(n=!0),n||(t+=e[i]),n&&c(e,i)&&(n=!1),i++}return t}function p(e,t,i){let n=u(e);return n>t?e:(i||" ").repeat(t-n)+e}function h(e,t,i){let n=u(e);return n>t?e:e+(i||" ").repeat(t-n)}class m{coordsInPrompt(e){let t=(e+=u(this.shell.getPromptString()))%this.terminal.cols,i=Math.floor(e/this.terminal.cols);return{x:t,y:this.promptLine-this.terminal.buffer.active.baseY+i}}clearPrompt(){let e=this.promptLine-this.terminal.buffer.active.baseY;for(let t=0;t<this.promptLines;t++){let i=e+t;this.write((0,n.CR)(0,i)+"\x1b[2K\r")}this.write((0,n.CR)(0,e))}resetPrompt(){this.prompt="",this.promptPosition=0,this.promptLines=1,this.actualPromptLines=1,this.historyPrompt=""}updatePrompt(){this.hideCursor(),this.clearPrompt(),this.writePrompt(),this.updateCursor(),this.showCursor()}clear(){this.resetPrompt(),this.promptLine=0,this.terminal.reset(),this.updatePrompt()}writeResponse(e){if(this.responseLines.push(e),this.showOutput){for(let t of(this.hideCursor(),e.split("\n")))this.write(t),this.newLine();this.showCursor()}}writeResponseLines(e){if(this.responseLines.push(...e),this.showOutput)for(let t of e)this.writeResponse(t)}resetResponseLines(){this.responseLines=[]}getResponseLines(){return this.responseLines}enableOutput(){this.showOutput=!0}disableOutput(){this.showOutput=!1}getCompletePrompt(){return"\r".concat(this.shell.getPromptString()).concat(this.prompt)}writePrompt(){this.write(this.getCompletePrompt())}write(e){let t=function(e,t){if(""===e)return[""];let i=0,n=[];for(;i<e.length;){let{part:o,offset:r}=function(e,t){let i=0,n=0,o=0,r=!1;for(;n<t&&o<e.length;){if(a(e,o)){o++;continue}a(e,o-1)&&l(e,o)&&(r=!0),!r&&n++,r&&c(e,o)&&(r=!1),o++,r||(i=o)}let s=o<e.length?i:o;return{part:e.slice(0,i),offset:s}}(e.slice(i),t);n.push(o),i+=r}return n}(e,this.terminal.cols),i=Math.max(t.length-this.promptLines,0);for(let e=0;e>i;e++)this.terminal.write("\r\n");this.promptLines=Math.max(this.promptLines,t.length),this.actualPromptLines=t.length;let o=this.promptLine-this.terminal.buffer.active.baseY;this.terminal.write((0,n.CR)(0,o)+e)}newLine(){this.promptLine+=this.actualPromptLines,this.terminal.writeln(""),this.resetPrompt()}hideCursor(){this.terminal.write(n.$m)}showCursor(){this.terminal.write(n.y9)}updateCursor(){let{x:e,y:t}=this.coordsInPrompt(this.promptPosition);this.terminal.write((0,n.CR)(e,t))}moveCursor(e){if("left"===e){if(0===this.promptPosition)return;this.promptPosition--}else{if(this.promptPosition>=this.prompt.length)return;this.promptPosition++}let{x:t,y:i}=this.coordsInPrompt(this.promptPosition);this.terminal.write((0,n.CR)(t,i))}loadHistory(e){this.historyIndex=(0,r.qE)(this.historyIndex+("next"===e?1:-1),0,this.historyEntries.length),this.historyIndex===this.historyEntries.length?this.prompt=this.historyPrompt:this.prompt=this.historyEntries[this.historyIndex],this.promptPosition=this.prompt.length,this.updatePrompt()}insertEnter(){let e=this.prompt;this.newLine(),this.shell.process(e),e.length>0&&(this.historyEntries.push(e),this.historyIndex=this.historyEntries.length),this.updatePrompt()}insertBackspace(){if(0!==this.promptPosition){if(this.promptPosition===this.prompt.length)this.prompt=this.prompt.slice(0,this.prompt.length-1);else{let e=this.prompt.slice(0,this.promptPosition-1),t=this.prompt.slice(this.promptPosition);this.prompt=e+t}this.promptPosition--,this.updatePrompt()}}insertCharacters(e){if(this.promptPosition===this.prompt.length)this.prompt+=e,this.promptPosition+=e.length,this.updatePrompt();else{let t=this.prompt.slice(0,this.promptPosition),i=this.prompt.slice(this.promptPosition);this.prompt=t+e+i,this.promptPosition+=e.length,this.updatePrompt()}this.historyPrompt=this.prompt}playKeySound(e){(0,r.nr)()||"Space"!==e&&(0,s.p)(this.soundService,e)}onKey(e){let{key:t,domEvent:i}=e,n=i.code;if(!i.ctrlKey&&!i.altKey)switch(!i.repeat&&this.playKeySound(n),n){case"Enter":this.insertEnter();break;case"Backspace":this.insertBackspace();break;case"ArrowLeft":case"ArrowRight":this.moveCursor("ArrowLeft"===n?"left":"right");break;case"ArrowUp":case"ArrowDown":this.loadHistory("ArrowUp"===n?"prev":"next");break;default:if(1!==t.length)return;this.insertCharacters(t)}}onResize(){let e=this.domElement,t=this.terminal._core._renderService.dimensions.css.cell,i=Math.floor(e.clientWidth/t.width),n=Math.floor(e.clientHeight/t.height);this.terminal.resize(i,n)}bind(){this.terminal.open(this.domElement),this.terminal.onKey(this.onKey.bind(this)),this.resizeObserver=new ResizeObserver(this.onResize.bind(this)),this.resizeObserver.observe(this.domElement),this.shell.process("motd"),this.shell.process("help"),this.updatePrompt(),this.updateCursor()}dispose(){var e;this.terminal.dispose(),null==(e=this.resizeObserver)||e.disconnect()}constructor(e,t,i,n){this.terminal=e,this.domElement=t,this.prompt="",this.showOutput=!0,this.promptLines=1,this.actualPromptLines=1,this.promptLine=0,this.promptPosition=0,this.resizeObserver=null,this.historyPrompt="",this.historyEntries=[],this.historyIndex=0,this.responseLines=[],this.terminal.options.fontSize=16;let r=Math.floor(t.clientWidth/9.6),s=Math.floor(t.clientHeight/17);this.terminal.resize(r,s),this.shell=new o.$(this,i,n),this.soundService=n.sound}}},1120:(e,t,i)=>{"use strict";i.d(t,{Ht:()=>c});var n=i(9299),o=i(8847),r=i.n(o),s=i(9547);let a=r()(()=>Promise.all([i.e(233),i.e(717)]).then(i.bind(i,5717)),{loadableGenerated:{webpack:()=>[5717]}});class l{constructor(){this.displayName="Contact",this.dockPriority=null,this.path="/Applications/",this.appName="Contact.app",this.appIcon={src:(0,s.A)("/icons/contact-app.png"),alt:"Contact application"},this.entrypoint=(e,t,i)=>new u(e,t,i)}}let c=new l;class u extends n.l{config(){return c}menuEntries(){return[{displayOptions:{boldText:!0},name:"Contact",items:[]}]}createNewWindow(e){let t=.6*window.innerWidth,i=(window.innerWidth-t)/2;return this.compositor.open({x:i,y:90,height:600,width:t,title:"Contact",application:this,args:e.args,generator:()=>a})}focusWindow(){this.currentWindow&&this.compositor.focus(this.currentWindow.id)}on(e,t){this.baseHandler(e,t),"application-open"===e.kind&&(this.currentWindow?this.focusWindow():this.currentWindow=this.createNewWindow(e)),"application-quit"===e.kind&&(this.currentWindow=null)}constructor(...e){super(...e),this.currentWindow=null}}},1881:(e,t,i)=>{"use strict";i.d(t,{sW:()=>r});class n{constructor(e){this.value=e,this.next=null,this.prev=null}}class o{getNextIterator(e,t){switch(this.direction){case"fromTail":return e.next;case"fromHead":return e.prev}}[Symbol.iterator](){let e;return this.node=this.originalNode,{next:()=>this.node?(e=this.node,this.node=this.getNextIterator(this.node,this.direction),{done:!1,value:e}):{done:!0,value:e}}}find(e){let t=this.node;for(;t;){if(e(t.value))return t.value;t=this.getNextIterator(t,this.direction)}return null}constructor(e,t){switch(this.direction=t,this.direction){case"fromTail":this.node=e.getTail();break;case"fromHead":this.node=e.getHead()}this.originalNode=this.node}}class r{append(e){return this.appendNode(new n(e))}appendNode(e){let t=this.getHead();return e.prev=t,null!==t&&(t.next=e),this.head=e,null===this.tail&&(this.tail=e),this.items++,e}insert(e,t){let i=e.next,o=new n(t);return i&&(i.prev=o,o.next=i),o.prev=e,e.next=o,this.items++,o}cutOff(e){let t=e.next;for(;null!==t;)this.items--,t=t.next;e.next=null,this.head=e}prepend(e){return this.prependNode(new n(e))}prependNode(e){let t=this.getTail();return e.next=t,null!==t&&(t.prev=e),this.tail=e,null===this.head&&(this.head=e),this.items++,e}unlink(e){e.prev&&e.next?(e.prev.next=e.next,e.next.prev=e.prev):e.prev?e.prev.next=null:e.next&&(e.next.prev=null),this.head==e&&(this.head=e.prev),this.tail==e&&(this.tail=e.next),e.next=null,e.prev=null,this.items--}moveToHead(e){this.unlink(e),this.appendNode(e)}moveToTail(e){this.unlink(e),this.prependNode(e)}getHead(){return this.head}getTail(){return this.tail}count(){return this.items}toArray(){let e=[],t=this.getTail();for(;null!==t;)e.push(t.value),t=t.next;return e}iterFromTail(){return new o(this,"fromTail")}iterFromHead(){return new o(this,"fromHead")}constructor(){this.head=null,this.tail=null,this.items=0}}},2068:(e,t,i)=>{"use strict";function n(e,t){return{kind:"application-open",isFirst:e,args:t}}function o(){return{kind:"application-quit"}}function r(e){return{kind:"window-open",windowId:e}}function s(e){return{kind:"window-close",windowId:e}}function a(){return{kind:"all-windows-closed"}}i.d(t,{X:()=>n,_h:()=>o,di:()=>s,hJ:()=>a,px:()=>r})},2980:(e,t,i)=>{"use strict";i.d(t,{mj:()=>c});var n=i(9299),o=i(8847),r=i.n(o),s=i(9547);let a=r()(()=>i.e(635).then(i.bind(i,8635)),{loadableGenerated:{webpack:()=>[8635]}});class l{constructor(){this.displayName="Debug",this.dockPriority=null,this.path="/Applications/",this.appName="Debug.app",this.appIcon={src:(0,s.A)("/icons/folder-icon.png"),alt:"Debug application"},this.entrypoint=(e,t,i)=>new u(e,t,i)}}let c=new l;class u extends n.l{config(){return c}menuEntries(){return[{displayOptions:{boldText:!0},name:"Debug",items:[]}]}on(e,t){this.baseHandler(e,t),"application-open"===e.kind&&this.compositor.open({x:200,y:200,height:400,width:400,title:"Debug application",application:this,args:e.args,generator:()=>a})}}},3129:(e,t,i)=>{"use strict";i.r(t),i.d(t,{OperatingSystem:()=>ea});var n=i(7876),o=i(9299),r=i(1881),s=i(3449),a=i(2068);class l{constructor(e,t,i,n,o,r,s,a,l){this.id=e,this.x=t,this.y=i,this.width=n,this.height=o,this.title=r,this.args=s,this.application=a,this.generator=l,this.order=0,this.focused=!0,this.minimized=!1,this.minimalWidth=240,this.minimalHeight=180,this.action=null}}class c{registerApplicationManager(e){this.applicationManager=e}updateApplicationManager(e){var t;let i=e.value.application;null==(t=this.applicationManager)||t.focus(i)}subscribe(e){return this.observers.push(e),()=>{this.unsubscribe(e)}}subscribeWithFilter(e,t){function i(i){e(i)&&t(i)}return this.observers.push(i),()=>{this.unsubscribe(i)}}unsubscribe(e){for(let[t,i]of this.observers.entries())if(e===i)return void this.observers.splice(t)}publish(e){for(let t of this.observers)t(e)}getById(e){var t;return null==(t=this.windowNodeLookup[e])?void 0:t.value}setSize(e,t){this.viewWidth=e,this.viewHeight=t}open(e){var t,i,n,o;let[r,c]=[e.x,e.y],u=null!=(t=e.width)?t:400,d=null!=(i=e.height)?i:80,p=function(e,t){let i=[],n=t.application.config();for(let t of e.iterFromTail()){let e=t.value.application.config();n.appName===e.appName&&i.push(t.value)}return i}(this.windows,e),h=!1;do if(h=!1,p.find(e=>e.x===r&&e.y===c)){let e=r+u+10<=this.viewWidth,t=c+d+10<=this.viewHeight;r=e?r+10:0,c=t?c+10:0,h=!0}while(h);let m=this.windowId++,f=new l(m,r,c,null!=(n=e.width)?n:400,null!=(o=e.height)?o:80,e.title,e.args,e.application,e.generator);console.log("[WindowCompositor] Creating window:",{id:m,title:e.title,x:r,y:c,width:u,height:d});let g=this.windows.append(f);return this.updateApplicationManager(g),this.windowNodeLookup[m]=g,this.updateWindowOrder(),console.log("[WindowCompositor] Notifying application of window open"),f.application.on((0,a.px)(m),{id:m}),console.log("[WindowCompositor] Publishing CreateWindowEvent"),this.publish((0,s.xP)(f.id)),console.log("[WindowCompositor] Published CreateWindowEvent for window",f.id),f}focus(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.windowNodeLookup[e];if(!i)return void console.error("Node not found");(t||i!==this.windows.getHead())&&(this.updateApplicationManager(i),this.windows.moveToHead(i),this.updateWindowOrder(),this.publish((0,s.zB)(e)),this.publish((0,s.r)()))}update(e,t){var i,n;let o=this.windowNodeLookup[e.id];if(!o)return;o.value=e;let r=null!=(i=null==t?void 0:t.moved)&&i,a=null!=(n=null==t?void 0:t.resized)&&n;this.publish((0,s.YL)(e.id,r,a))}close(e){let t=this.windowNodeLookup[e];if(!t)return;let i=t.value;i.action&&i.action.reject("Window has been closed by user"),this.publish((0,s.n0)(e)),i.application.on((0,a.di)(e),{id:e}),this.windows.unlink(t),delete this.windowNodeLookup[e];let n=this.findPreviousNodeOfSameApplication(i.application);n?this.focus(n.value.id,!0):(i.application.on((0,a.hJ)()),this.updateWindowOrder())}async alert(e,t){let i=this.windowNodeLookup[e];if(!i)throw Error("Window node not found");let n=i.value,o=()=>{n.action=null,this.update(n)};return new Promise((e,i)=>{n.action={action:"alert",alert:t,resolve:e,reject:i},this.update(n)}).then(()=>{o()}).catch(e=>{throw o(),e})}async prompt(e,t,i){let n=this.windowNodeLookup[e];if(!n)throw Error("Window node not found");let o=n.value,r=()=>{o.action=null,this.update(o)};return new Promise((e,n)=>{o.action={action:"prompt",prompt:t,defaultValue:i,resolve:e,reject:n},this.update(o)}).then(e=>(r(),e)).catch(e=>{throw r(),e})}minimize(e){let t=this.windowNodeLookup[e];if(!t)return;let i=t.value;i.minimized=!0,this.update(i);let n=this.listPreviousNodesOfSameApplication(i.application).find(e=>!1===e.value.minimized);n?this.focus(n.value.id,!0):this.updateWindowOrder(),this.publish((0,s.pf)(i.id))}maximize(e){let t=this.windowNodeLookup[e];if(!t)return;let i=t.value;i.minimized=!1,this.update(i,{moved:!0,resized:!0}),this.focus(i.id,!0),this.publish((0,s.FC)(i.id))}listMinimizedWindows(){let e=[];for(let t of this.windows.iterFromTail()){let i=t.value;i.minimized&&e.push(i)}return e}listPreviousNodesOfSameApplication(e){let t=this.windows.getHead(),i=[];for(;null!==t;)t.value.application===e&&i.push(t),t=t.prev;return i}findPreviousNodeOfSameApplication(e){let t=this.windows.getHead();for(;null!==t;){if(t.value.application===e)return t;t=t.prev}return null}updateWindowOrder(){if(!this.applicationManager)return;let e=this.windows.getTail(),t=0;if(null===e){let e=this.applicationManager.listApplications().find(e=>"Finder.app"===e.config().appName);e&&this.applicationManager.focus(e);return}for(;null!==e;)e.value.order=t++,e.value.focused=!1,null===e.next&&function(e,t){let i=e;for(;i;){if(!0!==i.value.minimized){i.value.focused=!0,t.focus(i.value.application);return}i=i.prev}}(e,this.applicationManager),e=e.next}reset(){this.windowId=0,this.windows=new r.sW,this.windowNodeLookup={},this.observers=[]}constructor(){this.windowId=0,this.windows=new r.sW,this.windowNodeLookup={},this.observers=[],this.applicationManager=null,this.viewWidth=0,this.viewHeight=0}}var u=i(7718),d=i(9582),p=i(4232),h=i(7453),m=i.n(h),f=i(3932),g=i(2002);let w=()=>{let{t:e,i18n:t}=(0,g.Bd)("common"),[i,o]=(0,p.useState)();return(0,p.useEffect)(()=>{o(new Date);let e=setInterval(()=>o(new Date),1e3);return()=>{clearInterval(e)}},[]),(0,n.jsxs)("div",{className:m().date,"data-locale":t.language,children:[function(e,t){if(void 0===e)return(0,n.jsx)(n.Fragment,{});let i=t("date.weekdays_short.".concat(e.getDay())),o=e.getDate().toString(),r=t("date.months_short.".concat(e.getMonth()));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:m().weekday,children:i}),"\xa0",(0,n.jsx)("span",{className:m().day,children:o}),"\xa0",(0,n.jsx)("span",{className:m().month,children:r})]})}(i,e),"\xa0",function(e){if(void 0===e)return(0,n.jsx)(n.Fragment,{});let t=(0,f.Lj)(e.getHours(),2),i=(0,f.Lj)(e.getMinutes(),2),o="".concat(t,":").concat(i);return(0,n.jsx)(n.Fragment,{children:o})}(i)]})},v=e=>{let{t,i18n:i}=(0,g.Bd)("common"),{manager:o}=e,[r,s]=(0,p.useState)([]);function a(e){"focus"===e.kind&&s(e.application.menuEntries())}return(0,p.useEffect)(()=>{let e=o.subscribe(a);return()=>{s([]),e()}},[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:m().menuBar,children:[(0,n.jsx)("div",{className:m().appEntries,children:function(e){return 0===e.length&&e.push({displayOptions:{},name:"HTMAA Portfolio",items:[]}),e.map((e,t)=>(0,n.jsx)(p.Fragment,{children:function(e){let t=(0,p.useRef)(null),[i,o]=(0,p.useState)(!1),r=e.items.map((e,t)=>(0,n.jsx)(p.Fragment,{children:function(e){switch(e.kind){case"action":return(0,n.jsx)("button",{className:"system-button",onClick:()=>{e.action(),o(!1)},children:e.value});case"spacer":return(0,n.jsx)("hr",{})}}(e)},t)),s=r.length>0?(0,n.jsx)("div",{className:m().menuContent,children:r}):(0,n.jsx)(n.Fragment,{});return(0,n.jsxs)("div",{ref:t,className:m().menuEntry,children:[(0,n.jsx)("button",{className:"system-button",onClick:function(){if(!t.current||i)return;let e=t.current,n=t=>{!function(e,t){let i=e.target;for(;null!==i;){if(i===t)return!0;i=i.parentElement}return!1}(t,e)&&(o(!1),window.removeEventListener("pointerdown",n))};o(!0),window.addEventListener("pointerdown",n)},children:e.displayOptions.boldText?(0,n.jsx)("b",{children:e.name}):(0,n.jsx)("span",{children:e.name})}),i&&s]})}(e)},t))}(r)}),(0,n.jsx)("div",{className:m().spacer}),(0,n.jsx)("div",{className:m().utility,children:(0,n.jsx)(w,{})})]})})};var y=i(7734),b=i.n(y),k=i(8847),A=i.n(k),x=i(9049);let N=A()(()=>Promise.all([i.e(242),i.e(50)]).then(i.bind(i,3050)),{loadableGenerated:{webpack:()=>[3050]},ssr:!1}),_=A()(()=>Promise.all([i.e(479),i.e(583)]).then(i.bind(i,9583)),{loadableGenerated:{webpack:()=>[9583]},ssr:!1}),E=e=>{let{windowCompositor:t,manager:i,apis:o}=e,r=(0,p.useRef)(null),s=(e=>(t,i)=>{switch(i.event){case"create_window":{let n=e.getById(i.windowId);if(!n)return t;if(t.find(e=>e.window.id===n.id))break;let o=n.generator();t=[...t,{window:n,application:o}]}break;case"update_window":{let n=e.getById(i.windowId);if(!n)return t;t=t.map(e=>(e.window.id!==n.id||(e.window=n),e))}break;case"update_windows":t=t.map(t=>{let i=e.getById(t.window.id);if(null===i)throw Error("Attempting to update a window that doesn't exist");return t.window=i,t});break;case"destroy_window":t=t.filter(e=>e.window.id!==i.windowId)}return t})(t),[a,l]=(0,p.useReducer)(s,[]);(0,p.useEffect)(()=>{console.log("[Desktop] Mounting, subscribing to window compositor");let e=t.subscribe(e=>{console.log("[Desktop] Window event:",e),l(e)});if(r.current){let e=r.current;t.setSize(e.clientWidth,e.clientHeight)}return()=>{e()}},[]);let c=a.map(e=>(0,n.jsx)(_,{window:e.window,WindowApp:e.application,windowCompositor:t,parent:r.current},e.window.id));return(0,n.jsxs)("div",{className:b().desktop,children:[(0,n.jsx)(N,{directory:"/Users/hayley/Desktop",apis:o,onFileOpen:function(e){let t=(0,x.tG)(e);i.open('"'.concat(t,'"'))},localIconPosition:!0,allowOverflow:!1}),(0,n.jsx)("div",{ref:r,className:b().applicationContainer,children:c})]})};var T=i(3930),I=i.n(T),L=i(222),C=i(9926),D=i(2980),P=i(1120),M=i(4182),S=i(6062),O=i(9547);let j=[C.tV,L.wl,P.Ht,M.Lt,S.vM],F=[...j,D.mj];function R(e){let{apis:t,manager:i,windowCompositor:o}=e,r=t.system,s=t.fileSystem,[a,l]=(0,p.useState)(d(i,o,r.isDebug())),[c]=(0,p.useState)(function(){let e=[];function t(e){i.open("/Applications/Finder.app ".concat(e))}return e.push({kind:"directory",title:"Applications",path:"/Applications",icon:{src:(0,O.A)("/icons/icon-applications-folder.png"),alt:"File icon"},onClick:()=>t("/Applications")}),e.push({kind:"directory",title:"Documents",path:"/Users/hayley/Documents",icon:{src:(0,O.A)("/icons/icon-documents-folder.png"),alt:"File icon"},onClick:()=>t("/Users/hayley/Documents")}),e.push({kind:"directory",title:"Bin",path:"/Users/hayley/Trash",icon:{src:(0,O.A)("/icons/trash-icon.png"),alt:"Trash can"},onClick:()=>t("/Users/hayley/Trash")}),e}());function d(e,t,i){let n=[],o=e.listApplications().map(e=>e.config()),r=t.listMinimizedWindows();{let t={};(i?F:j).forEach(e=>t[e.appName]={config:e,active:!1}),o.forEach(e=>t[e.appName]={config:e,active:!0}),Object.values(t).sort((e,t)=>{var i,n;return(null!=(i=e.config.dockPriority)?i:0)-(null!=(n=t.config.dockPriority)?n:0)}).forEach(t=>{n.push({kind:"application",config:t.config,active:t.active,onClick:()=>{e.open(t.config.path+t.config.appName)}})})}return n.push({kind:"separator"}),r.slice(0,Math.min(r.length,5)).forEach(e=>{n.push({kind:"minimized_application",title:e.title,config:e.application.config(),onClick:()=>{e.minimized=!1,t.update(e),t.focus(e.id,!0)}})}),n}function h(){l(d(i,o,r.isDebug()))}function m(e){("minimize_window"===e.event||"maximize_window"===e.event)&&l(d(i,o,r.isDebug()))}return(0,p.useEffect)(()=>{let e=i.subscribe(h),t=o.subscribe(m);return()=>{e(),t()}},[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:I().dock,children:(0,n.jsxs)("div",{"data-drop-point":"true",className:I().dockContainer,children:[a.map((e,t)=>(0,n.jsx)(p.Fragment,{children:function(e){switch(e.kind){case"application":return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("button",{className:I()["dock-application"],onClick:()=>e.onClick(),"data-tooltip":e.config.displayName,children:[(0,n.jsx)("img",{className:I()["dock-app-image"],src:e.config.appIcon.src,alt:e.config.appIcon.alt,width:64,height:64,draggable:!1}),(0,n.jsx)("div",{className:[I().status,e.active?I().active:I().inactive].join(" "),children:e.active?(0,n.jsx)("img",{draggable:!1,className:I()["dock-app-active-image"],src:"data:image/png;base64,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Y0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAlwSFlzAAAuIwAALiMBeKU/dgAABPRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDkuMS1jMDAxIDc5LmE4ZDQ3NTM0OSwgMjAyMy8wMy8yMy0xMzowNTo0NSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI0LjYgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDIzLTExLTIwVDEyOjI2OjI0KzAxOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMy0xMS0yMFQxMjoyOToyOCswMTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMy0xMS0yMFQxMjoyOToyOCswMTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YTFjZDA3YzMtMjAyNC00M2U0LWE2YzctYjIyNzFiMTIyZGVjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOmExY2QwN2MzLTIwMjQtNDNlNC1hNmM3LWIyMjcxYjEyMmRlYyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmExY2QwN2MzLTIwMjQtNDNlNC1hNmM3LWIyMjcxYjEyMmRlYyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YTFjZDA3YzMtMjAyNC00M2U0LWE2YzctYjIyNzFiMTIyZGVjIiBzdEV2dDp3aGVuPSIyMDIzLTExLTIwVDEyOjI2OjI0KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjQuNiAoTWFjaW50b3NoKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7qfM6HAAAAxUlEQVQ4jaWSQQrCMBREp27cKdLqrYqKoJfQOwiCBxKvIYorF96hdSF0Y5+LJhpLW5o6MJskM0n+TADoH/Qq1iJJO0kXSZnhVdLe7P0CcLkAUuqRAHNXUxbnDWKLHFiVDSbAo4XYIgVC4DODjaSBx+yGktbuEGMPsUUsSYGJMZPU9zRIJY2qYmwLpO8Xbh0M7q7BoYPBsXhHEePYM8bExugWaU67Ir2AJRVNFDAz7k03T6mpsmUEbIET8DQ8m7WwfN72oDPeoSunCY8Gh3QAAAAASUVORK5CYII="}):(0,n.jsx)(n.Fragment,{})})]})});case"minimized_application":return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("button",{className:I()["dock-application"],onClick:()=>e.onClick(),"data-tooltip":e.config.displayName,children:[(0,n.jsx)("img",{className:I()["dock-app-image"],src:e.config.appIcon.src,alt:e.config.appIcon.alt,width:64,height:64,draggable:!1}),(0,n.jsx)("div",{className:[I().status].join(" ")})]})});case"separator":return(0,n.jsx)("div",{className:I().separator})}}(e)},t)),c.map((e,t)=>(0,n.jsx)(p.Fragment,{children:function(e,t){let i=(0,p.useRef)(null),[o,r]=(0,p.useState)(!1);function s(){r(!0)}function a(){r(!1)}function l(i){r(!1);let n=i.detail.nodes,o=t.getDirectory(e.path);o.ok&&n.forEach(e=>{t.moveNode(e.item,o.value)})}(0,p.useEffect)(()=>{if(!i.current)return;let e=i.current;return e.addEventListener(u.JD,s),e.addEventListener(u.iP,a),e.addEventListener(u._L,l),()=>{e.removeEventListener(u.JD,s),e.removeEventListener(u.iP,a),e.removeEventListener(u._L,l)}},[]);let c=[I()["dock-application"],o?I().hovered:""].join(" ");return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("button",{ref:i,"data-drop-point":"true",className:c,onClick:()=>e.onClick(),"data-tooltip":e.title,children:[(0,n.jsx)("img",{className:I()["dock-app-image"],src:e.icon.src,alt:e.icon.alt,width:64,height:64,draggable:!1}),(0,n.jsx)("div",{className:I().status})]})})}(e,s)},t))]})})})}var W=i(3699),z=i.n(W);let H=A()(()=>Promise.resolve().then(i.bind(i,3388)),{loadableGenerated:{webpack:()=>[3388]}});function G(e){let t=e.apis.dragAndDrop,[i,o]=(0,p.useState)([]);function r(e){switch(e.action){case"start":case"move":o(e.files.nodes.map(t=>{let[i,n]=[e.x-t.offset.x,e.y-t.offset.y];return{entry:{node:t.item,x:i,y:n},x:i,y:n,selected:!1,dragging:!0,editing:{active:!1,value:t.item.name}}}));break;case"drop":o([])}}(0,p.useEffect)(()=>{let e=t.subscribe(r);return()=>{e()}},[]);let s=i.map((e,t)=>(0,n.jsx)(H,{folderIconEntry:e,index:t},t));return(0,n.jsx)(n.Fragment,{children:s})}function U(e){var t;(null!=(t=window.parent)?t:window).postMessage(e,"*")}class Y{static handleParentResponse(e){let t=e.min_distance,i=e.max_distance,n=e.current_distance,o=e.horizontal_offset,r=e.max_horizontal_offset;return new Y(t,i,n,o,r,e.horizontal_offset,e.horizontal_offset)}get horizontal(){return{max:this.maxHorizontalOffset,current:this.horizontalOffset}}get vertical(){return{max:this.maxVerticalOffset,current:this.verticalOffset}}get zoom(){return{min:this.minZoom,max:this.maxZoom,current:this.currentZoom}}constructor(e,t,i,n,o,r,s){this.minZoom=e,this.maxZoom=t,this.currentZoom=i,this.horizontalOffset=n,this.maxHorizontalOffset=o,this.verticalOffset=r,this.maxVerticalOffset=s}}class B{static fromTouchData(e){if(e.hasTouchesDown(1)){let t=e.touches[0],i=t.x,n=t.y;return new B(i,n,i,n)}let t=e.touches.map(e=>e.x),i=e.touches.map(e=>e.y);return new B(Math.min(...t),Math.min(...i),Math.max(...t),Math.max(...i))}width(){return this.x2-this.x1}height(){return this.y2-this.y1}center(){return{x:this.x1+this.width()/2,y:this.y1+this.height()/2}}diagonal(){return Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))}constructor(e,t,i,n){this.x1=e,this.y1=t,this.x2=i,this.y2=n}}class Z{static fromTouch(e){return new Z(e.clientX,e.clientY)}constructor(e,t){this.x=e,this.y=t}}class q{static fromTouchEvent(e,t){let i=[];for(let e of t.touches){let t=Z.fromTouch(e);i.push(t)}return new q(e,i)}hasTouchesDown(e){return this.touches.length===e}hasMoreTouchesDownThan(e){return this.touches.length>e}boundingBox(){return B.fromTouchData(this)}pointerCoordinates(){let e=0,t=0,i=this.touches.length;for(let i of this.touches)e+=i.x,t+=i.y;return{x:e/i,y:t/i}}constructor(e,t){this.source=e,this.touches=t}}class J{notify(e){for(let t of this.observers)t(e)}subscribe(e){return this.observers.push(e),()=>{this.unsubscribe(e)}}unsubscribe(e){for(let[t,i]of this.observers.entries())if(i===e)return void this.observers.splice(t)}constructor(){this.observers=[]}}class Q extends J{isEnabled(){return this.enabled}enable(){this.enabled=!0,this.notifyEnabledStatus(),this.unmuteAll()}disable(){this.enabled=!1,this.notifyEnabledStatus(),this.muteAll()}notifyEnabledStatus(){this.notify(this.enabled)}mute(e){var t;let i=null!=(t=this.activeAudio[e])?t:null;i&&(i.muted=!0)}unmute(e){var t;let i=null!=(t=this.activeAudio[e])?t:null;i&&(i.muted=!1)}volume(e,t){var i;let n=null!=(i=this.activeAudio[e])?i:null;n&&(n.volume=t)}muteAll(){for(let e of this.activeAudio.keys())this.mute(e)}unmuteAll(){for(let e of this.activeAudio.keys())this.unmute(e)}stop(e){var t;let i=null!=(t=this.activeAudio[e])?t:null;i&&(i.pause(),delete this.activeAudio[e])}clear(){this.index=0,this.activeAudio=[]}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this.index++,n=new Audio(e);return n.volume=t,n.muted=!this.enabled,n.play().catch(()=>{console.error("Cannot play audio")}),this.activeAudio[i]=n,n.addEventListener("ended",()=>{delete this.activeAudio[i]}),i}playAudioFragment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this.index++;return e.volume=t,e.muted=!this.enabled,e.play().catch(()=>{console.error("Cannot play audio")}),this.activeAudio[i]=e,e.addEventListener("ended",()=>{delete this.activeAudio[i]}),i}playOnRepeat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this.index++,n=new Audio(e);return n.volume=t,n.muted=!this.enabled,n.play().catch(()=>{console.error("Cannot play audio")}),this.activeAudio[i]=n,n.addEventListener("ended",()=>{var e;null==(e=this.activeAudio[i])||e.play()}),i}constructor(...e){super(...e),this.enabled=!0,this.index=0,this.activeAudio=[]}}class V{isDebug(){return this.debug}init(){this.debug=(0,f._o)()}constructor(){this.debug=!1}}var X=i(3681);class K{isMobileDevice(){return this.width<700}constructor(e,t){this.width=e,this.height=t}}class $ extends J{getResolution(){return this.resolution}setResolution(e,t){this.resolution=new K(e,t),this.notify(this.resolution)}constructor(...e){super(...e),this.resolution=null}}let ee=(0,d.XM)(),et=new u.WO,ei=new Q,en=new V,eo={dragAndDrop:et,fileSystem:ee,sound:ei,system:en,screen:new $},er=new c,es=new o.u(er,ee,eo),ea=()=>{console.log("[OperatingSystem] Component rendering");let e=(0,p.useRef)(null),t=(0,p.useRef)(null),i=(0,p.useRef)(null),o=(0,p.useRef)(null),r=window.parent!==window;console.log("[OperatingSystem] isEmbedded:",r);let s=e=>{r&&U(e)},a=()=>{eo.screen.setResolution(window.innerWidth,window.innerHeight)};function l(e){e.preventDefault()}function c(e){(0,f.p5)()&&e.target.hasAttribute("data-interactive-window")&&e.preventDefault(),s({method:"camera_zoom_distance_request"}),2===e.touches.length&&(t.current=q.fromTouchEvent("start",e))}function u(e){let n=q.fromTouchEvent("move",e);if(2!==e.touches.length||null===t.current||null===o.current||null===i.current)return;let r=o.current,a=i.current,l=t.current;(0,f.oA)(n)&&([r.horizontalOffset,r.verticalOffset]=function(e,i){if(null===t.current)return[0,0];let n=t.current.pointerCoordinates(),o=(i.y-n.y)*.005,r=-(.005*(i.x-n.x));return[e.horizontalOffset+r,e.verticalOffset+o]}(a,n.pointerCoordinates())),(0,f.Ds)(n)&&(r.currentZoom=function(e,t,i){let{min:n,max:o,current:r}=e.zoom,s=t.boundingBox(),a=(i.boundingBox().diagonal()-s.diagonal())*.01;return(0,f.qE)(r-a,n,o)}(a,l,n)),s({method:"set_possible_camera_parameters_request",currentZoom:r.currentZoom,horizontalOffset:r.horizontalOffset,verticalOffset:r.verticalOffset})}function h(e){if(0!==e.touches.length||null===o.current)return;let t=o.current;s({method:"set_camera_parameters_request",currentZoom:t.currentZoom,verticalOffset:t.verticalOffset,horizontalOffset:t.horizontalOffset})}return(0,p.useEffect)(()=>{console.log("[OperatingSystem] useEffect mounting..."),en.init(),(()=>{if(i.current&&o.current)return;let e=new Y(1,5,3,0,2,0,2);i.current=e,o.current=new Y(e.minZoom,e.maxZoom,e.currentZoom,e.horizontalOffset,e.maxHorizontalOffset,e.verticalOffset,e.maxVerticalOffset)})(),en.isDebug()&&(0,d.qg)(ee),console.log("[OperatingSystem] About to open Finder and About"),es.open("/Applications/Finder.app"),es.open("/Applications/About.app"),console.log("[OperatingSystem] Opened Finder and About"),e.current&&function(e){e.addEventListener("gesturestart",l,{passive:!1}),e.addEventListener("touchstart",c,{passive:!1}),e.addEventListener("touchmove",u,{passive:!0}),e.addEventListener("touchend",h,{passive:!0})}(e.current),a();let t=()=>a();window.addEventListener("resize",t);let n=function(e,t,i){return function(n){let o=n&&"object"==typeof n.data&&null!==n.data&&"string"==typeof n.data.method?{ok:!0,value:n.data}:{ok:!1};if(!o.ok)return;let r=o.value;switch(r.method){case"camera_zoom_distance_response":e.current=Y.handleParentResponse(r),t.current=Y.handleParentResponse(r);break;case"enable_sound_message":r.enabled?i.sound.enable():i.sound.disable();break;case"display_size":i.screen.setResolution(r.width,r.height)}}}(i,o,eo);return r&&(window.addEventListener("message",n,!1),U({method:"mounted"})),()=>{es.reset(),er.reset(),en.isDebug()&&(0,d.Q1)(ee),e.current&&function(e){e.removeEventListener("gesturestart",l),e.removeEventListener("touchstart",c),e.removeEventListener("touchmove",u),e.removeEventListener("touchend",h)}(e.current),r&&window.removeEventListener("message",n,!1),window.removeEventListener("resize",t)}},[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{ref:e,className:z().operatingSystem,children:[(0,n.jsx)(v,{manager:es}),(0,n.jsx)(E,{apis:eo,manager:es,windowCompositor:er}),(0,n.jsx)(R,{apis:eo,manager:es,windowCompositor:er}),(0,n.jsx)(G,{apis:eo}),(0,n.jsx)(X.L,{apis:eo})]})})}},3388:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CharactersPerLine:()=>g,FolderIconHitBox:()=>v,IconHeight:()=>d,IconWidth:()=>u,ImageHeight:()=>p,ImageWidth:()=>h,MaximumLines:()=>w,TextHeight:()=>f,TextWidth:()=>m,default:()=>A});var n=i(7876),o=i(4587),r=i.n(o),s=i(4232),a=i(5957),l=i.n(a),c=i(9582);let u=120,d=80,p=60,h=60,m=120,f=20,g=14,w=2;function v(e){let t=b(g,w,e.entry.node.name+e.entry.node.filenameExtension),i=u/2;return[{x1:e.x+(i-h/2),x2:e.x+(i+h/2),y1:e.y,y2:e.y+p},{x1:e.x,x2:e.x+u,y1:e.y+p,y2:e.y+p+f*t.length}]}function y(e){let{entry:t}=e,i=(0,s.useRef)(null),[o,r]=(0,s.useState)(!1),[a,c]=(0,s.useState)(t.editing.value);return(0,s.useEffect)(()=>{i.current&&i.current.focus()},[o]),(0,s.useEffect)(()=>{r(!0)},[]),(0,n.jsx)("input",{className:["system-text-input",l().editInput].join(" "),ref:i,type:"input",value:a,onChange:e=>{var i;c(i=e.target.value),t.editing.value=i},onKeyDown:e=>"Enter"===e.key&&void(t.editing.onSave&&t.editing.onSave())})}function b(e,t,i){let n=i.split(" "),o=[],r="";function s(t){let i=0!==r.length;r.length+t.length+ +!!i<=e?r+=(i?" ":"")+t:(o.push(r),r=t)}for(let t of n)0!==t.length&&(t.length>=e?(function(e,t){let i=Math.ceil(t.length/e),n=Array(i);for(let o=0,r=0;o<i;o++,r+=e)n[o]=t.substring(r,r+e);return n})(e,t).forEach(e=>s(e)):s(t));o.push(r);if(o.length>t){let e=o[t-1];o[t-1]=e.substring(0,e.length-3)+"...",o.length=2}return o}function k(e){let{title:t}=e,i=b(g,w,t).map((e,t)=>0===e.length?(0,n.jsx)("span",{className:l().titleLine,children:"\xa0"},t):(0,n.jsx)("span",{className:l().titleLine,children:e},t));return(0,n.jsx)("div",{className:l().title,children:i})}function A(e){let{folderIconEntry:t,index:i}=e,o=t.entry,s=o.node,a=t.selected?l().selected:"",u=t.editing.active?(0,n.jsx)(y,{entry:t}):(0,n.jsx)(k,{title:s.name+s.filenameExtension}),d=(0,c.ce)(o.node);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:s.kind+" "+l().container+" "+a,style:{top:"".concat(t.y,"px"),left:"".concat(t.x,"px"),zIndex:1e5*!!t.dragging+i},children:[(0,n.jsx)("div",{className:l().imageContainer,children:(0,n.jsx)("div",{className:l().imageContainerInner,children:(0,n.jsx)(r(),{quality:100,draggable:"false",className:l().image,src:d.src,alt:d.alt,width:h,height:p})})}),(0,n.jsx)("div",{className:l().textContainer,children:u})]})})}},3449:(e,t,i)=>{"use strict";function n(e){return{event:"create_window",windowId:e}}function o(e,t,i){return{event:"update_window",moved:t,resized:i,windowId:e}}function r(e){return{event:"focus_window",windowId:e}}function s(e){return{event:"minimize_window",windowId:e}}function a(e){return{event:"maximize_window",windowId:e}}function l(){return{event:"update_windows"}}function c(e){return{event:"destroy_window",windowId:e}}function u(e){switch(e.event){case"create_window":case"update_window":case"focus_window":case"minimize_window":case"maximize_window":return e;default:return null}}i.d(t,{FC:()=>a,YL:()=>o,kZ:()=>u,n0:()=>c,pf:()=>s,r:()=>l,xP:()=>n,zB:()=>r})},3681:(e,t,i)=>{"use strict";i.d(t,{L:()=>w,p:()=>g});var n=i(7876),o=i(4232),r=i(3932),s=i(9547);let a="pointer_primary",l="pointer_secondary",c=[{onDown:(0,s.A)("/sounds/space_down_1.mp3"),onUp:(0,s.A)("/sounds/space_up_1.mp3")},{onDown:(0,s.A)("/sounds/space_down_2.mp3"),onUp:(0,s.A)("/sounds/space_up_2.mp3")},{onDown:(0,s.A)("/sounds/space_down_3.mp3"),onUp:(0,s.A)("/sounds/space_up_3.mp3")}],u=[{onDown:(0,s.A)("/sounds/shift_down.mp3"),onUp:(0,s.A)("/sounds/shift_up.mp3")}],d=[{onDown:(0,s.A)("/sounds/key_down_1.mp3")},{onDown:(0,s.A)("/sounds/key_down_2.mp3")}],p=[{onDown:(0,s.A)("/sounds/left_mouse_down_1.mp3"),onUp:(0,s.A)("/sounds/left_mouse_up_1.mp3")},{onDown:(0,s.A)("/sounds/left_mouse_down_2.mp3"),onUp:(0,s.A)("/sounds/left_mouse_up_2.mp3")},{onDown:(0,s.A)("/sounds/left_mouse_down_3.mp3"),onUp:(0,s.A)("/sounds/left_mouse_up_3.mp3")}],h=[{onDown:(0,s.A)("/sounds/right_mouse_down_1.mp3"),onUp:(0,s.A)("/sounds/right_mouse_up_1.mp3")},{onDown:(0,s.A)("/sounds/right_mouse_down_2.mp3"),onUp:(0,s.A)("/sounds/right_mouse_up_2.mp3")},{onDown:(0,s.A)("/sounds/right_mouse_down_3.mp3"),onUp:(0,s.A)("/sounds/right_mouse_up_3.mp3")}];function m(e){return e[Math.floor(Math.random()*e.length)]}function f(e){switch(e){case"Space":return m(c);case"ShiftLeft":case"ShiftRight":return m(u);default:return m(d)}}function g(e,t){if(["VolumeUp","VolumeDown"].includes(t))return;let i=new Audio(f(t).onDown);e.playAudioFragment(i,.6)}function w(e){let t=e.apis.sound,i=(0,o.useRef)({}),s=(0,o.useRef)({});function c(e){let t=i.current[e];if(t)return t;let n=new Audio(e);return i.current[e]=n,n}function u(e){if(e.repeat)return;let i=e.code;if(["VolumeUp","VolumeDown"].includes(i))return;s.current[i]=f(i);let n=s.current[i].onDown;if(n){let e=c(n);t.playAudioFragment(e,.6)}}function d(e){if(e.repeat)return;let i=e.code;if(!s.current[i])return;let n=s.current[i].onUp;if(n){let e=c(n);t.playAudioFragment(e,.6)}}function g(e){let i=0===e.button?a:l,n=0===e.button?p:h;s.current[i]=m(n);let o=s.current[i].onDown;if(o){let e=c(o);t.playAudioFragment(e,1)}}function w(e){let i=0===e.button?a:l;if(!s.current[i])return;let n=s.current[i].onUp;if(n){let e=c(n);t.playAudioFragment(e,1)}}return(0,o.useEffect)(()=>{if(!(0,r.nr)())return window.addEventListener("keydown",u),window.addEventListener("keyup",d),window.addEventListener("pointerdown",g),window.addEventListener("pointerup",w),()=>{window.removeEventListener("keydown",u),window.removeEventListener("keyup",d),window.removeEventListener("pointerdown",g),window.removeEventListener("pointerup",w)}},[]),(0,n.jsx)(n.Fragment,{})}},3699:e=>{e.exports={operatingSystem:"OperatingSystem_operatingSystem__4hD_a"}},3927:(e,t,i)=>{"use strict";function n(e){let t=[],i=0,n=[];for(;i<e.length;){let o=e[i];switch(o){case"\\":{let t=e[i+1];t&&n.push(t),i+=2;continue}case" ":n.length>0&&(t.push(n.join("")),n=[]),i+=1;continue;case'"':case"'":{let t=function(e,t,i){let n=t+1;for(;n<e.length;){let t=e[n];switch(n++,t){case"\\":n++;continue;case'"':case"'":if("double"===i||"single"===i)return n}}return n}(e,i,'"'===o?"double":"single"),r=0===n.length?i+1:i,s=0===n.length?t-1:t;for(let t of e.slice(r,s))n.push(t);i=t;continue}}n.push(o),i++}return n.length>0&&t.push(n.join("")),t}i.d(t,{RM:()=>n})},3930:e=>{e.exports={dock:"Dock_dock__vGUDx",dockContainer:"Dock_dockContainer__FcdWC","dock-application":"Dock_dock-application__I63Vg",hovered:"Dock_hovered__42ts6","dock-app-image":"Dock_dock-app-image__xh7WA","dock-app-active-image":"Dock_dock-app-active-image__7_37y",status:"Dock_status__J3320",separator:"Dock_separator___xIm7"}},3932:(e,t,i)=>{"use strict";i.d(t,{Ds:()=>s,Lj:()=>o,_o:()=>c,nr:()=>a,oA:()=>r,p5:()=>l,qE:()=>n});let n=(e,t,i)=>Math.max(Math.min(i,e),t),o=(e,t)=>e.toLocaleString(void 0,{minimumIntegerDigits:t});function r(e){return e.hasTouchesDown(2)||e.hasTouchesDown(3)}function s(e){return e.hasTouchesDown(2)}let a=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function l(){return!!a&&navigator.userAgent.indexOf("Mobile")>0}function c(){return new URLSearchParams(window.location.search).has("debug")}},4182:(e,t,i)=>{"use strict";i.d(t,{Lt:()=>c});var n=i(9299),o=i(8847),r=i.n(o),s=i(9547);let a=r()(()=>Promise.all([i.e(605),i.e(775)]).then(i.bind(i,8775)),{loadableGenerated:{webpack:()=>[8775]}});class l{constructor(){this.displayName="Skills",this.dockPriority=null,this.path="/Applications/",this.appName="Skills.app",this.appIcon={src:(0,s.A)("/icons/skills-icon.png"),alt:"Skills application"},this.entrypoint=(e,t,i)=>new u(e,t,i)}}let c=new l;class u extends n.l{config(){return c}menuEntries(){return[{displayOptions:{boldText:!0},name:"Skills",items:[]}]}on(e,t){if(this.baseHandler(e,t),"application-open"===e.kind){let t=(window.innerWidth-700)/2;this.compositor.open({x:t,y:95,height:600,width:700,title:"Skills",application:this,args:e.args,generator:()=>a})}}}},4199:(e,t,i)=>{"use strict";i.d(t,{JT:()=>s,R2:()=>a,db:()=>n,fh:()=>o});let n=(e,t)=>{let i=e.x1<t.x2&&e.x2>t.x1,n=e.y1<t.y2&&e.y2>t.y1;return i&&n},o=(e,t)=>t.some(t=>n(e,t)),r=(e,t)=>{let i=e.x>t.x1&&e.x<t.x2,n=e.y>t.y1&&e.y<t.y2;return i&&n},s=(e,t)=>t.some(t=>r(e,t)),a=(e,t)=>t.findIndex(t=>r(e,t))},5957:e=>{e.exports={container:"FolderIcon_container__hH1io",selected:"FolderIcon_selected__fB8C_",imageContainer:"FolderIcon_imageContainer__wu8aI",imageContainerInner:"FolderIcon_imageContainerInner__Y856M",image:"FolderIcon_image__rAevl",title:"FolderIcon_title__T7xZh",titleLine:"FolderIcon_titleLine__jas3j",editInput:"FolderIcon_editInput__93NQP",textContainer:"FolderIcon_textContainer__rXgDS"}},6062:(e,t,i)=>{"use strict";i.d(t,{vM:()=>c});var n=i(9299),o=i(8847),r=i.n(o),s=i(9547);let a=r()(()=>Promise.all([i.e(361),i.e(813)]).then(i.bind(i,4813)),{loadableGenerated:{webpack:()=>[4813]}});class l{constructor(){this.displayName="Terminal",this.dockPriority=null,this.path="/Applications/",this.appName="Terminal.app",this.appIcon={src:(0,s.A)("/icons/terminal-icon.png"),alt:"Terminal"},this.entrypoint=(e,t,i)=>new u(e,t,i)}}let c=new l;class u extends n.l{config(){return c}menuEntries(){return[{displayOptions:{boldText:!0},name:"Terminal",items:[]}]}on(e,t){this.baseHandler(e,t),"application-open"===e.kind&&this.compositor.open({x:150,y:150,height:450,width:600,title:"Terminal",application:this,args:e.args,generator:()=>a})}}},7453:e=>{e.exports={menuBar:"MenuBar_menuBar__Y4sTt",spacer:"MenuBar_spacer__7TOpE",date:"MenuBar_date__9LDmZ",utility:"MenuBar_utility__yng9a",weekday:"MenuBar_weekday___yfE0",month:"MenuBar_month__suU8o",menuEntry:"MenuBar_menuEntry__b8L6J",menuContent:"MenuBar_menuContent__bzkLa"}},7610:(e,t,i)=>{"use strict";i.d(t,{SM:()=>s,_Y:()=>a,bQ:()=>r});var n=i(8684),o=i(9582);function r(e){return e.length<=1?[]:e.slice(1,e.length)}function s(e,t,i){return e.startsWith("~")&&(e=n.X+e.slice(1,e.length)),e.startsWith("/")||(e=t.getPath()+e),(0,o.FI)(e,i)}function a(e){let t=e.split("/"),i=t[t.length-1].split(".");if(i.length<=1)return{base:e,extension:""};let n=i.length>1?".".concat(i.pop()):"";return{base:i.join("."),extension:n}}},7718:(e,t,i)=>{"use strict";i.d(t,{CH:()=>o,JD:()=>n,WO:()=>c,_L:()=>s,iP:()=>r});let n="fs_item_drag_enter",o="fs_item_drag_move",r="fs_item_drag_leave",s="fs_item_drag_drop";class a{subscribe(e){return this.listeners.push(e),()=>{this.unsubscribe(e)}}unsubscribe(e){for(let[t,i]of this.listeners.entries())if(i===e)return void this.listeners.splice(t)}propagate(e){for(let t of this.listeners)t(e)}constructor(){this.listeners=[]}}class l{start(e,t){this.context.propagate({action:"start",files:this.files,x:e,y:t})}move(e,t){this.context.propagate({action:"move",files:this.files,x:e,y:t})}drop(e,t){this.context.propagate({action:"drop",files:this.files,x:e,y:t})}constructor(e,t){this.context=e,this.files=t}}class c{start(e,t,i){let n=new l(this.context,e);return n.start(t,i),n}subscribe(e){return this.context.subscribe(e)}unsubscribe(e){this.context.unsubscribe(e)}constructor(){this.context=new a}}},7734:e=>{e.exports={desktop:"Desktop_desktop__pFiTX",applicationContainer:"Desktop_applicationContainer__3wKf3"}},8684:(e,t,i)=>{"use strict";i.d(t,{$:()=>d,X:()=>u});var n=i(2649),o=i.n(n),r=i(3927),s=i(7610),a=i(5134),l=i(9049),c=i(925);let u="/Users/hayley/";class d{getTerminal(){return this.terminal}getPath(){return this.path}getHostname(){return this.hostname}getRelativePath(){return this.relativePath}getPromptString(){return this.promptString.replace("{hostname}",this.hostname).replace("{path}",this.getRelativePath())}buildRelativePath(e){let t=e.split("/").filter(e=>e.length>0);if(0===t.length)return"/";let i=t.slice(-3),n=t.length>=2&&"Users"===t[0]&&"hayley"===t[1],o=t.length-i.length;if(n&&o<=1){let e=2-o;for(let t=0;t<e;t++)i.shift();i.unshift("~")}return n?1===i.length?"~":"".concat(i.join("/"),"/"):"/".concat(i.join("/"),"/")}changeDirectory(e){this.path=e,this.relativePath=this.buildRelativePath(e)}changeHostname(e){this.hostname=e}openNewProcess(e){this.applicationManager.open(e)}process(e){let t=this.apis.fileSystem,i=function(e){let t=0,i=0,n=[],o=null;for(;o=function n(){var o;function r(e){return i=t,{slice:e,output:{type:"stdout"}}}if(i===e.length)return null;let s=!1,a=!1;for(;t<e.length;){let i=e[t];if(s="|"===i,a=">"===i,t++,s||a)break}let l=t===e.length,c=e.slice(i,l?t:t-1).trim();if(s)return i=t,i=t,{slice:c,output:{type:"pipe"}};if(a){i=t;let e=n();if(null===e)return r(c);let s=null!=(o=e.slice.trim().split(" ")[0])?o:"";return i=t,{slice:c,output:{type:"output_redirection",filename:s}}}return r(c)}();)n.push(o);return n}(e);for(let[e,u]of i.entries()){var n,o;let d=e>0?i[e-1]:null,p=!!d&&"pipe"===d.output.type,h=d?'"'.concat(this.terminal.getResponseLines().join("\r\n"),'"'):"",m=p?u.slice+" "+h:u.slice,f=(0,r.RM)(m),g=u.output.type,w=null!=(o=null==(n=f[0])?void 0:n.toLocaleLowerCase())?o:null;if(null===w)return;switch(g){case"pipe":case"output_redirection":this.terminal.disableOutput();break;case"stdout":this.terminal.enableOutput()}switch(this.terminal.resetResponseLines(),w){case"clear":this.terminal.clear();break;case"ps":{let e=f.slice(1).join(" ");0===e.length?this.terminal.writeResponseLines(["hsh: ps requires a value to be set","possible variables: {hostname}, {path}"]):this.promptString=e+" ";break}default:!function(e,t,i,n){let o=n.fileSystem.getDirectory("/bin");if(o.isOk()){for(let r of o.value.children.iterFromHead()){let o=r.value.node;if("program"===o.kind&&o.name===e)return void o.program(t,i,n)}t.getTerminal().writeResponse("hsh: command not found: ".concat(e))}}(w,this,f,this.apis)}if("output_redirection"===u.output.type){let e=function(e,t,i,n){let o=(0,s.SM)(t,e),r=n.getNode(o),u=i.map(c.aJ).join("\r\n");if(!r.isOk())return function(e,t,i){let n=(0,l.bn)(t),o=(0,l.AY)(t);if(!o)return(0,a._q)("output redirection: Invalid file name");let r=e.getDirectory(n);if(!r.isOk())return(0,a._q)("output redirection: ".concat(n,": No such file or directory"));let c=r.value;if(!c.editableContent)return(0,a._q)("output redirection: ".concat(t,": Read-only file system"));if(!(0,l.kH)(c,o))return(0,a._q)("output redirection: ".concat(o,": File exists"));let{base:u,extension:d}=(0,s._Y)(o);return e.addTextFile(c,u,i,!0,d),(0,a.ok)(null)}(n,o,u);let d=n.getNode(o);if(!d.isOk())return(0,a._q)("output redirection: Invalid file to append content to");let p=d.value;return"textfile"!==p.kind?(0,a._q)("output redirection: Invalid file or directory it needs to be a text file"):(p.content+=u,(0,a.ok)(null))}(this,(0,s.SM)(u.output.filename,this),this.terminal.getResponseLines(),t);e.isOk()||(this.terminal.enableOutput(),this.getTerminal().writeResponse(e.error))}}}constructor(e,t,i){this.terminal=e,this.applicationManager=t,this.apis=i,this.promptString="".concat(o().white("{hostname}")," ").concat(o().magentaBright("::")," ").concat(o().greenBright("{path}")," ").concat(o().blueBright("%")," "),this.hostname="h-os",this.path=u,this.relativePath="~"}}},9049:(e,t,i)=>{"use strict";function n(e){let t=e,i=[];for("directory"===e.kind&&i.push("");null!==t.parent;)i.push(t.name),t=t.parent;return i.push(""),i.reverse().join("/")+e.filenameExtension}function o(e){let t=e.split("/").filter(e=>e.length>0);return t.length<1?["/"]:t}function r(e){let t=e.split("/").filter(e=>e.length>0);return t.length<=1?"/":(t.pop(),"/".concat(t.join("/"),"/"))}function s(e){let t=e.split("/").filter(e=>e.length>0);return t.length<0?null:t[t.length-1]}function a(e,t){if(""===t)return!1;for(let i of e.children.iterFromHead())if(i.value.node.name===t)return!1;return!0}function l(e,t){function i(e,t){for(let i of e.children.iterFromTail())if(i.value.node.name===t)return!0;return!1}if(!i(e,t))return t;let n=1;for(;i(e,"".concat(t," ").concat(++n)););return"".concat(t," ").concat(n)}i.d(t,{AY:()=>s,KC:()=>o,Q1:()=>l,bn:()=>r,kH:()=>a,tG:()=>n})},9299:(e,t,i)=>{"use strict";i.d(t,{l:()=>d,u:()=>p});var n=i(3449);class o{focus(e){this.compositor.focus(e)}open(e){console.log("[LocalWindowCompositor] Opening window:",e.title);let t=this.compositor.open(e);return console.log("[LocalWindowCompositor] Window opened with ID:",t.id),this.instances[t.id]=t,t}subscribe(e,t){return this.compositor.subscribeWithFilter(function(t){let i=(0,n.kZ)(t);return!!i&&i.windowId==e},t)}subscribeWithFilter(e,t,i){return this.compositor.subscribeWithFilter(function(i){let o=(0,n.kZ)(i);return!!o&&o.windowId===e&&t(i)},i)}getById(e){var t;return null!=(t=this.instances[e])?t:null}update(e){e.id in this.instances&&this.compositor.update(e)}close(e){e in this.instances&&(this.compositor.close(e),delete this.instances[e])}async alert(e,t){return await this.compositor.alert(e,t)}async prompt(e,t,i){return await this.compositor.prompt(e,t,i)}closeAll(){for(let e in this.instances)this.close(+e)}constructor(e){this.compositor=e,this.instances={}}}var r=i(5134);class s{open(e){return this.manager.open(e)}kill(e){return this.manager.kill(e)}quit(){return this.kill(this.processId)}constructor(e,t){this.processId=e,this.manager=t}}var a=i(2068),l=i(3927),c=i(9049);class u{constructor(e,t){this.path=e,this.compositor=t}}class d{baseHandler(e,t){if("all-windows-closed"===e.kind||"application-kill"===e.kind)return void this.manager.quit()}subscribeToWindowEvents(e,t){return this.windowListeners[e]||(this.windowListeners[e]=[]),this.windowListeners[e].push(t),()=>{this.unsubscribeFromWindowEvents(e,t)}}unsubscribeFromWindowEvents(e,t){for(let[i,n]of this.windowListeners[e].entries())if(n===t)return void this.windowListeners[e].splice(i)}sendEventToView(e,t){let i=this.windowListeners[e];if(i)for(let e of i)e(t)}sendEventToAllViews(e){for(let t of Object.values(this.windowListeners))for(let i of t)i(e)}constructor(e,t,i){this.compositor=e,this.manager=t,this.apis=i,this.windowListeners={}}}class p{subscribe(e){return this.observers.push(e),()=>{this.unsubscribe(e)}}unsubscribe(e){for(let[t,i]of this.observers.entries())if(i===e)return void this.observers.splice(t)}publishChanges(e){for(let t of this.observers)t(e)}focus(e){console.log("Application focussed: ".concat(e.config().displayName)),this.publishChanges({kind:"focus",application:e})}listApplications(){return this.processes.filter(e=>null!==e).map(e=>e.application)}openApplication(e,t,i){console.log("[ApplicationManager] openApplication called for:",t);let n=new o(this.windowCompositor),l=new s(this.processId,this),c=this.processes.find(e=>(null==e?void 0:e.context.path)===t);if(c)return console.log("[ApplicationManager] Reusing existing process:",c.processId),c.application.on((0,a.X)(!1,i)),(0,r.ok)(c.processId);{console.log("[ApplicationManager] Creating new process");let o={application:e.entrypoint(n,l,this.apis),context:new u(t,n),processId:this.processId};return this.processes.push(o),console.log("[ApplicationManager] Sending application-open event"),o.application.on((0,a.X)(!0,i)),this.publishChanges({kind:"update"}),(0,r.ok)(this.processId++)}}openDirectory(e){return this.open("/Applications/Finder.app ".concat(e))}openTextFile(e){return this.open("/Applications/Notes.app ".concat(e))}openImage(e){return this.open("/Applications/Image.app ".concat(e))}openFileSystemNode(e,t,i){switch(e.kind){case"application":return this.openApplication(e,t,i);case"directory":return this.openDirectory(t);case"textfile":return this.openTextFile(t);case"image":return this.openImage(t);case"hyperlink":{let t=e.target,n=(0,c.tG)(t);return this.openFileSystemNode(t,n,i)}default:return(0,r._q)(Error("Not yet implemented"))}}open(e){var t,i;console.log("[ApplicationManager] open() called with argument:",e);let n=(0,l.RM)(e),o=null!=(t=n.splice(0,1)[0])?t:"",s=null!=(i=n.join(" "))?i:"";console.log("[ApplicationManager] Parsed path:",o,"args:",s);let a=this.fileSystem.getNode(o);if(!a.isOk())return console.error("[ApplicationManager] File not found:",o,"Error:",a.error),(0,r._q)(Error("File not found"));console.log("[ApplicationManager] Node found:",a.value.kind);let c=a.value;return this.openFileSystemNode(c,o,s)}kill(e){let t=this.processes[e];null!==t&&(t.application.on((0,a._h)()),t.context.compositor.closeAll(),this.processes[e]=null,this.publishChanges({kind:"update"}))}reset(){for(let e=0;e<this.processId;e++)this.kill(e);this.processId=0,this.processes=[],this.observers=[]}constructor(e,t,i){this.windowCompositor=e,this.fileSystem=t,this.apis=i,this.processId=0,this.processes=[],this.observers=[],e.registerApplicationManager(this)}}},9547:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(5364);function o(e){void 0!==n&&n.env;let t=void 0!==n&&n.env&&1?"/Portfolio2":"",i=void 0!==n&&n.env&&1?"/Portfolio2":"",o=t||i;return!o||e.startsWith(o)?e:o+e}},9582:(e,t,i)=>{"use strict";i.d(t,{qg:()=>eT,aE:()=>eD,XM:()=>eE,FI:()=>eO,ce:()=>e_,Q1:()=>eI});var n=i(5134),o=i(2980),r=i(222),s=i(9926),a=i(4199),l=i(1881),c=i(9049),u=i(9299),d=i(8847),p=i.n(d),h=i(9547);let m=p()(()=>Promise.all([i.e(131),i.e(321)]).then(i.bind(i,7321)),{loadableGenerated:{webpack:()=>[7321]}});class f{constructor(){this.displayName="Notes",this.dockPriority=null,this.path="/Applications/",this.appName="Notes.app",this.appIcon={src:(0,h.A)("/icons/file-icon.png"),alt:"Notes application"},this.entrypoint=(e,t,i)=>new w(e,t,i)}}let g=new f;class w extends u.l{config(){return g}menuEntries(){return[{displayOptions:{boldText:!0},name:"Notes",items:[]}]}on(e,t){this.baseHandler(e,t),"application-open"===e.kind&&this.compositor.open({x:200,y:200,height:400,width:400,title:"Notes",application:this,args:e.args,generator:()=>m})}}let v=p()(()=>Promise.all([i.e(468),i.e(285)]).then(i.bind(i,3285)),{loadableGenerated:{webpack:()=>[3285]}});class y{constructor(){this.displayName="Image",this.dockPriority=null,this.path="/Applications/",this.appName="Image.app",this.appIcon={src:(0,h.A)("/icons/image-icon.png"),alt:"Image application"},this.entrypoint=(e,t,i)=>new k(e,t,i)}}let b=new y;class k extends u.l{config(){return b}menuEntries(){return[{displayOptions:{boldText:!0},name:"Image",items:[]}]}on(e,t){this.baseHandler(e,t),"application-open"===e.kind&&this.compositor.open({x:200,y:200,height:400,width:400,title:"Image",application:this,args:e.args,generator:()=>v})}}var A=i(1120),x=i(3388),N=i(4182),_=i(6062),E=i(7610),T=i(2649);function I(e,t,i){var n;let o=i.fileSystem,r=null!=(n=t[1])?n:e.getPath(),s=(0,E.SM)(r,e,!0),a=o.getDirectory(s);if(!a.ok)return void e.getTerminal().writeResponse("ls: ".concat(r,": No such file or directory"));for(let t of a.value.children.iterFromHead()){let i=t.value.node;e.getTerminal().writeResponse(function(e){let t="directory"===e.kind,i=e.name+e.filenameExtension;return t?(0,T.blueBright)(i):i}(i))}}class L{constructor(){this.appName="ls",this.program=I}}let C=new L;function D(e,t,i){let n=e.getPath();e.getTerminal().writeResponse(n)}class P{constructor(){this.appName="pwd",this.program=D}}let M=new P;function S(e,t,i){var n;let o=i.fileSystem,r=null!=(n=t[1])?n:null;r||(r="/Users/hayley/");let s=(0,E.SM)(r,e,!0);if(!o.getDirectory(s).ok)return void e.getTerminal().writeResponse("cd: no such file or directory: ".concat(r));e.changeDirectory(s)}class O{constructor(){this.appName="cd",this.program=S}}let j=new O;function F(e,t,i){var n;function o(e,t){return!!r.getNode(t).ok&&(e.openNewProcess(t),!0)}let r=i.fileSystem,s=null!=(n=t[1])?n:null;if(!s)return void e.getTerminal().writeResponseLines(["Usage: open filename","Help: Open opens files from a shell.","By default, opens each file using the default application for that file.","If the file is in the form of a URL, the file will be opened as a URL."]);s.startsWith("/")||(s=e.getPath()+"/"+s);let a=eO(s),l=a.endsWith("/");o(e,a)||!l&&o(e,a+"/")||e.getTerminal().writeResponse("The file ".concat(a," does not exist."))}class R{constructor(){this.appName="open",this.program=F}}let W=new R;function z(e,t,i){var n;let o=i.fileSystem,r=null!=(n=t[1])?n:null;if(!r)return;let s=(0,E.SM)(r,e),a=o.getNode(s);if(!a.ok)return void e.getTerminal().writeResponse("cat: no such file or directory: ".concat(r));let l=a.value;switch(l.kind){case"directory":e.getTerminal().writeResponse("cat: ".concat(r,": Is a directory"));break;case"image":e.getTerminal().writeResponse("cat: ".concat(r,": Is an image"));break;case"textfile":e.getTerminal().writeResponseLines(l.content.split("\n"));break;case"application":e.getTerminal().writeResponse("cat: ".concat(r,": Is an application"));break;case"hyperlink":e.getTerminal().writeResponse("cat: ".concat(r,": Is a hyperlink"));break;case"program":e.getTerminal().writeResponse("cat: ".concat(r,": Is a program"))}}class H{constructor(){this.appName="cat",this.program=z}}let G=new H;function U(e,t,i,n,o){return i.editableContent?(0,c.kH)(i,n)?(t.addDirectory(i,n,!0,!0),!0):(e.getTerminal().writeResponse("mkdir: ".concat(n,": File exists")),!1):(e.getTerminal().writeResponse("mkdir: ".concat(o,": Read-only file system")),!1)}function Y(e,t,i){var n;let o=i.fileSystem,r="-p"===t[1],s=null!=(n=t[!r?1:2])?n:null;if(!s)return void e.getTerminal().writeResponse("usage: mkdir [-p] directory_name");let a=(0,E.SM)(s,e,!0);(r?function(e,t,i){let n,o=(0,c.bn)(i),r=(0,c.KC)(o),s=(0,c.AY)(i);if(!s)return;let a="/",l=t.getDirectory(a).unwrap();for(;n=r.shift();){a+="".concat(n,"/");let o=t.getNode(a);if(o.ok){if("directory"!==o.value.kind)return void e.getTerminal().writeResponse("mkdir: ".concat(n,": Not a directory"));l=o.value}else{if(!U(e,t,l,n,i))return;l=t.getDirectory(a).unwrap()}}U(e,t,l,s,i)}:function(e,t,i){let n=(0,c.bn)(i),o=(0,c.AY)(i);if(!o)return;let r=t.getDirectory(n);if(!r.ok)return void e.getTerminal().writeResponse("mkdir: ".concat(n,": No such file or directory"));U(e,t,r.value,o,i)})(e,o,a)}class B{constructor(){this.appName="mkdir",this.program=Y}}let Z=new B;function q(e,t,i){var n,o;let r=i.fileSystem,s=(null!=(n=t[1])?n:"").startsWith("-"),a=s?t[1]:"",l=a.indexOf("r")>0,u=l||a.indexOf("d")>0,d=null!=(o=t[s?2:1])?o:null;if(!d)return void e.getTerminal().writeResponse("usage: rm [-dr] file");let p=(0,E.SM)(d,e,!1),h=function(e,t){let i=e.endsWith("/");{let i=t.getNode(e);if(i.ok)return i.value}if(i)return null;{let i=t.getNode(e+"/");if(i.ok)return i.value}return null}(p,r);if(!h)return void e.getTerminal().writeResponse("rm: ".concat(d,": No such file or directory"));if("directory"===h.kind){if(!u)return void e.getTerminal().writeResponse("rm: ".concat(d,": is a directory"));if(!l&&h.children.count()>0)return void e.getTerminal().writeResponse("rm: ".concat(d,": Directory not empty"))}if("/"===p)return void e.getTerminal().writeResponse("Moginistrator: I can't let you do that, kupo!");if(!h.editable)return void e.getTerminal().writeResponse("rm: ".concat(d,": Insufficient permissions to remove"));let m=h.parent;r.removeNodeFromDirectory(h),r.getDirectory(e.getPath()).ok||e.changeDirectory((0,c.tG)(m))}class J{constructor(){this.appName="rm",this.program=q}}let Q=new J;function V(e,t,i){var n;let o=i.fileSystem,r=null!=(n=t[1])?n:null;if(!r)return void e.getTerminal().writeResponse("usage: touch file_name");let s=(0,E.SM)(r,e,!0);!function(e,t,i){let n=(0,c.bn)(i),o=(0,c.AY)(i);if(!o)return;let r=t.getDirectory(n);if(!r.ok)return e.getTerminal().writeResponse("touch: ".concat(n,": No such file or directory"));!function(e,t,i,n,o){if(!i.editableContent)return e.getTerminal().writeResponse("touch: ".concat(o,": Read-only file system"));if(!(0,c.kH)(i,n))return e.getTerminal().writeResponse("touch: ".concat(n,": File exists"));let{base:r,extension:s}=(0,E._Y)(n);t.addTextFile(i,r,"",!0,s)}(e,t,r.value,o,i)}(e,o,s)}class X{constructor(){this.appName="touch",this.program=V}}let K=new X;function $(e){return e.endsWith("/")}function ee(e){return e+($(e)?"":"/")}function et(e,t,i){var n,o;let r=i.fileSystem,s=null!=(n=t[1])?n:null,a=null!=(o=t[2])?o:null;if(!s||!a)return void e.getTerminal().writeResponse("usage: mv source target");let l=r.getDirectory((0,E.SM)(s,e)).ok?ee(s):s,u=function(e,t,i,n){if(i.getDirectory((0,E.SM)(t,n)).ok||$(t)){var o;return ee(t)+((null!=(o=(0,c.AY)(e))?o:"")+($(e)?"/":""))}return t}(l,a,r,e),d=(0,E.SM)(l,e),p=(0,E.SM)(u,e);return r.getNode(d).ok?r.getNode(p).ok?void e.getTerminal().writeResponse("mv: ".concat(u,": already exists")):void!function(e,t,i,n){let o=(0,E.SM)(e,n),r=(0,E.SM)(t,n),s=(0,c.bn)(r),a=i.getDirectory(s),l=i.getNode(o);if(!a.ok||!l.ok)return n.getTerminal().writeResponse("mv: rename ".concat(e," to ").concat(t,": No such file or directory"));let u=l.value,d=a.value;if(!u.editable)return n.getTerminal().writeResponse("mv: ".concat(e,": Read-only file"));if(!d.editableContent)return n.getTerminal().writeResponse("mv: ".concat(t,": Read-only file system"));let p=function(e){let t=e.split(".");return t.length>1&&t.pop(),t.join(".")}((0,c.AY)(r));i.renameAndMove(u,p,d)}(l,u,r,e):void e.getTerminal().writeResponse("mv: rename ".concat(l," to ").concat(u,": No such file or directory"))}class ei{constructor(){this.appName="mv",this.program=et}}let en=new ei;function eo(e,t,i){e.getTerminal().writeResponseLines(["H-OS Generic alpha build, (C)1998 Hayleysoft, bv.","Authorized use only.","All activity is monitored and may be reported.",""])}class er{constructor(){this.appName="motd",this.program=eo}}let es=new er;var ea=i(925);function el(e,t){let i=2+e.length;return(0,ea.ti)((0,ea.cv)((0,T.greenBright)(e),i),12)+t}function ec(e,t,i){e.getTerminal().writeResponseLines(["Available commands:",el("cat","Print file content."),el("open","Open files or applications."),el("motd","Display message of the day."),el("help","Displays this menu."),el("cd","Changes the current directory."),el("ls","Lists directory content."),el("mkdir","Create a new directory."),el("touch","Create a new text file."),el("rm","Removes files or directories."),el("pwd","Prints Path of current working directory."),el("clear","Clear the terminal screen."),el("ps","Set prompt string."),el("neofetch","Display system information."),el("uwu","uwufies your text."),"This shell supports pipes (|) and output redirection (>)"])}class eu{constructor(){this.appName="help",this.program=ec}}let ed=new eu;class ep{random(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e>t?(0,n._q)(Error("The minimum value must be below the maximum value")):e===t?(0,n._q)(Error("The minimum value cannot equal the maximum value")):(0,n.ok)(e+this.sfc32()*(t-e))}xmur3(e){let t=0x6a09e667^e.length;for(let i=0;i<e.length;i++)t=(t=Math.imul(t^e.charCodeAt(i),0xcc9e2d51))<<13|t>>>19;return()=>(t=Math.imul((t=Math.imul(t^t>>>16,0x85ebca6b))^t>>>13,0xc2b2ae35),(t^=t>>>16)>>>0)}sfc32(){let e=this.seeder(),t=this.seeder(),i=this.seeder(),n=this.seeder();i>>>=0,n>>>=0;let o=(e>>>=0)+(t>>>=0)|0;return e=t^t>>>9,t=i+(i<<3)|0,i=(i=i<<21|i>>>11)+(o=o+(n=n+1|0)|0)|0,(o>>>0)/0x100000000}constructor(e){this.seeder=this.xmur3(e)}}function eh(e){return 0===e.length?"":1===e.length?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)}function em(e){return e===e.toUpperCase()}let ef=[["small","smol"],["cute","kawaii~"],["fluff","floof"],["stupid","baka"],["what","nani"],["meow","nya"]],eg=[[/(?:r|l)/g,"w"],[/(?:R|L)/g,"W"],[/n([aeiou])/g,"ny$1"],[/N([aeiou])/g,"Ny$1"],[/N([AEIOU])/g,"NY$1"],[/ove/g,"uv"]],ew=[" rawr x3"," OwO"," UwU"," o.O"," -.-"," >w<"," ()"," ()"," ()"," (U  U)"," "," \xf2\xf3"," (//////)"," (U  U)"," ( o  o )"," w"," :3"," :3"," :3"," :3"," XD"," nyaa~~"," mya"," >_<"," rawr"," (  )"," ^^"," /(^^)"," (oo))"];function ev(e,t){return e.random().unwrap()>1-t}function ey(e,t,i){let n=(0,E.bQ)(t).join(" ");e.getTerminal().writeResponse(function(e){var t,i;let n=new ep(e),o=new Set,r=e.split(" ");return t=r=r.map((e,t)=>{let i=e.toLowerCase();for(let[r,s]of ef){let a=i.indexOf(r);if(a<0)continue;let l=e.slice(a,a+r.length),c=function(e,t){return e===eh(e)?eh(t):em(e)?t.toUpperCase():e===e.toLowerCase()?t.toLowerCase():t}(l,s);o.add(t);var n=l.length;return e.slice(0,a)+c+e.slice(a+n)}return e}),i=r=t.map((e,t)=>{if(o.has(t))return e;for(let[t,i]of eg)ev(n,.9)&&(e=e.replace(t,i));return e}),(r=function(e,t){function i(e){return[".",",","?","!"].includes(e)}return e.map((n,o)=>{if(!ev(t,.85)||!function(e,t){let n=e[t].trim();return!(n.length<1||n.length>1&&i(n[n.length-2])&&i(n[n.length-1]))&&i(n[n.length-1])}(e,o))return n;let r=Math.floor(t.random(0,ew.length).unwrap()),s=ew[r];return"\n"!==n[n.length-1]?n+s:n.trim()+s+"\r\n"})}(r=i.map(e=>{if(!ev(n,.25))return e;if(e.length<1)return e;let t=e.charAt(0),i=t.charCodeAt(0);return i>=65&&i<91||i>=97&&i<123?em(e)?"".concat(t.toUpperCase(),"-").concat(e.toUpperCase()):e===eh(e)?"".concat(t.toUpperCase(),"-").concat(e.toLowerCase()):"".concat(t,"-").concat(e):e}),n)).join(" ")}(n))}class eb{constructor(){this.appName="uwu",this.program=ey}}let ek=new eb;function eA(e,t,i){function n(e,t){return"".concat((0,T.greenBright)(e)," ").concat((0,T.white)(t))}let o=window.innerWidth,r=window.innerHeight;e.getTerminal().writeResponseLines([" ".concat((0,T.greenBright)("hayley")+(0,T.white)("@")+(0,T.greenBright)(e.getHostname()))," ".concat((0,T.white)("==============="))," ".concat(n("OS:","h-os 1.0.0"))," ".concat(n("Host:","h-system 10.0"))," ".concat(n("Kernel:","1.0.0"))," ".concat(n("Uptime:","A long time"))," ".concat(n("Shell:","hsh 0.5"))," ".concat(n("Resolution:","".concat(o,"x").concat(r))),"","","","","","","","","","",""])}class ex{constructor(){this.appName="neofetch",this.program=eA}}let eN=new ex;function e_(e){switch(e.kind){case"application":case"hyperlink":return e.icon;case"directory":if(e.icon)return e.icon;return{src:(0,h.A)("/icons/folder-icon.png"),alt:"Directory icon"};case"hyperlink":return{src:(0,h.A)("/icons/folder-icon.png"),alt:"Hyperlink icon"};case"textfile":return{src:(0,h.A)("/icons/file-icon.png"),alt:"File icon"};case"image":return{src:(0,h.A)("/icons/file-icon.png"),alt:"Image icon"};case"program":return{src:(0,h.A)("/icons/file-icon.png"),alt:"Program icon"}}}function eE(){console.log("[FileSystem] createBaseFileSystem() called");let e=new ej;console.log("[FileSystem] FileSystem instance created");let t=e.getDirectory("/");if(!t.isOk())return console.error("[FileSystem] Root directory not found!"),e;let i=t.value;console.log("[FileSystem] Root directory found"),console.log("[FileSystem] About to initialize icons and directories");let n={src:(0,h.A)("/icons/icon-applications-folder.png"),alt:"Application folder"},o={src:(0,h.A)("/icons/icon-documents-folder.png"),alt:"Documents folder"};console.log("[FileSystem] Icons initialized"),console.log("[FileSystem] About to create Applications directory");let a=e.addDirectory(i,"Applications",!1,!1,n);console.log("[FileSystem] Applications directory created:",a.name),console.log("[FileSystem] About to add applications"),e.addApplication(s.tV),e.addApplication(A.Ht),e.addApplication(r.wl),e.addApplication(g),e.addApplication(_.vM),e.addApplication(b),e.addApplication(N.Lt),e.addDirectory(i,"home",!1,!1);let l=e.addDirectory(i,"Users",!1,!1),c=e.addDirectory(l,"hayley",!1,!0),u=e.addDirectory(c,"Desktop",!1,!0),d=e.addDirectory(c,"Documents",!1,!0,o),p={src:(0,h.A)("/icons/trash-icon.png"),alt:"Trash can icon"},m=e.addDirectory(c,"Trash",!1,!0,p);e.addHyperLink(u,a,"Applications",n,!0),e.addTextFile(u,"readme","Hey, welcome to my portfolio!\n\nThis website showcases my work in engineering, fabrication, electronics, and digital design.\n\nExplore my projects and experience to learn more about what I do.\n\nPlease enjoy, and explore as much as you would like!\n",!0),e.addTextFile(d,"libraries","For this portfolio I used some libraries, so to give some credit:\nThree - https://threejs.org/ Awesome library for 3D web stuff.\nNextjs - https://nextjs.org/ Great framework to build your React app in.\nTurborepo - https://turbo.build/ Lovely and fast build system for monorepos.\nxtermjs - https://xtermjs.org/ A great terminal emulator that made the terminal possible.\n",!0),e.addImage(m,"Cheems",".png","/images/temp.png","A lovely debug image",!0);let f=e.addDirectory(i,"bin",!1,!1);return e.addProgram(f,C),e.addProgram(f,M),e.addProgram(f,j),e.addProgram(f,W),e.addProgram(f,G),e.addProgram(f,Z),e.addProgram(f,Q),e.addProgram(f,K),e.addProgram(f,en),e.addProgram(f,es),e.addProgram(f,ed),e.addProgram(f,ek),e.addProgram(f,eN),e}function eT(e){e.addApplication(o.mj)}function eI(e){let t=e.getApplication("/Applications/Debug.app");t.isOk()&&e.removeNodeFromDirectory(t.value)}function eL(e,t,i,n){let{width:o,height:r}=n,s=0;for(let n of e){let e={x1:t,x2:t+o,y1:i,y2:i+r},l={x1:n.x,x2:n.x+o,y1:n.y,y2:n.y+r};(0,a.db)(e,l)&&s++}return s}function eC(e,t,i,n){let o=t.sortDirection,r=t.sortOrigin,s=Math.floor(i.width/n.width),a=Math.floor(i.height/n.height),l=function(e,t){switch(t){case"horizontal":return e%s;case"vertical":return Math.floor(e/a)}}(e,o)*n.width;return"top-right"===r&&(l=i.width-n.width-l),{x:l,y:function(e,t){switch(t){case"horizontal":return Math.floor(e/s);case"vertical":return e%a}}(e,o)*n.height}}function eD(e,t,i){let n={width:x.IconWidth,height:x.IconHeight},o=function(e,t,i){let n=Math.floor(t.width/i.width),o=Math.floor(t.height/i.height),r=[],s=n*o;for(let n=0;n<s;n++)r.push(eC(n,e,t,i));return r}(e,t,n),r=o.find(e=>0===eL(i,e.x,e.y,n));if(r)return r;switch(t.overflowBehavior){case"overflow":{let r,s=o.length;do r=eC(s++,e,t,n);while(0!==eL(i,r.x,r.y,n));return r}case"overlay":{let r,s=0,a=1;do r=eC(s++,e,t,n),0!==s&&s%o.length==0&&(s=0,a++);while(eL(i,r.x,r.y,n)>a);return r}}}function eP(e,t){let i=e;for(;i;){if(i.id===t.id)return!0;i=i.parent}return!1}function eM(e){return!!e&&e.editable}function eS(e){return e.editable||e.editableContent}function eO(e,t){let i=e.endsWith("/")||t,n=e.split("/").filter(e=>e.length>0),o=[];for(let e=0;e<n.length;e++){let t=e===n.length-1,r=n[e];switch(r){case".":t&&(i=!0);break;case"..":o.pop();break;default:o.push(r)}}return 0===o.length?"/":"/"+o.join("/")+(i?"/":"")}class ej{subscribe(e,t){return this.nodeListeners[e.id]||(this.nodeListeners[e.id]=[]),this.nodeListeners[e.id].push(t),()=>{this.unsubscribe(e,t)}}unsubscribe(e,t){for(let[i,n]of this.nodeListeners[e.id].entries())if(n===t)return void this.nodeListeners[e.id].splice(i)}propagateNodeEvent(e,t){let i=this.nodeListeners[e.id];if(i)for(let e of i)e(t)}getNode(e){let t=eO(e);console.log("[FileSystem] getNode called with path:",e,"-> absolute:",t),console.log("[FileSystem] lookupTable has keys:",Object.keys(this.lookupTable));let i=this.lookupTable[t];return i?(console.log("[FileSystem] Node found:",i.kind,i.name),(0,n.ok)(i)):(console.error("[FileSystem] Node not found in lookupTable for path:",t),(0,n._q)(Error("Node not found")))}updateLookupTableWithPrefix(e){Object.entries(this.lookupTable).filter(t=>{let[i]=t;return i.startsWith(e)}).forEach(e=>{let[t,i]=e;delete this.lookupTable[t];let n=(0,c.tG)(i);this.lookupTable[n]=i,this.propagateNodeEvent(i,{kind:"rename",path:n})})}renameAndMove(e,t,i){if(eP(i,e))return(0,n._q)(Error("Node is a parent of the target directory"));if(!eM(e))return(0,n._q)(Error("Node or target directory is not editable"));if(!eS(i))return(0,n._q)(Error("Target directory does not allow modification"));let o=(0,c.tG)(e);this.removeNodeFromDirectory(e),e.parent&&this.propagateNodeEvent(e.parent,{kind:"update"}),e.name=t;let r=this.addNodeToDirectory(i,e),s=(0,c.tG)(e);return o!==s&&this.updateLookupTableWithPrefix(o),this.propagateNodeEvent(e,{kind:"rename",path:s}),this.propagateNodeEvent(e.parent,{kind:"update"}),(0,n.ok)(r)}renameNode(e,t){if(!e.parent)return(0,n._q)(Error("A parent is required, to rename the directory"));if(!(0,c.kH)(e.parent,t))return(0,n._q)(Error("Duplicate filename"));if(t.length<1)return(0,n._q)(Error("The name is too short"));let i=(0,c.tG)(e);e.name=t;let o=(0,c.tG)(e);return i!==o&&this.updateLookupTableWithPrefix(i),this.propagateNodeEvent(e,{kind:"rename",path:o}),this.propagateNodeEvent(e.parent,{kind:"update"}),(0,n.ok)(e)}moveNode(e,t){var i;if(eP(t,e))return(0,n._q)(Error("Node is a parent of the target directory"));if(!eM(e))return(0,n._q)(Error("Node or target directory is not editable"));if(!eS(t))return(0,n._q)(Error("Target directory does not allow modification"));if(t.id===(null==(i=e.parent)?void 0:i.id)){let i=t.children.iterFromTail().find(t=>t.node.id===e.id);return i?(0,n.ok)(i):(0,n._q)(Error("Parent moved in the same directory, but cannot be found in the directory listing"))}let o=(0,c.tG)(e);this.removeNodeFromDirectory(e),e.parent&&this.propagateNodeEvent(e.parent,{kind:"update"});let r=this.addNodeToDirectory(t,e);return o!==(0,c.tG)(e)&&this.updateLookupTableWithPrefix(o),(0,n.ok)(r)}getApplication(e){let t=this.getNode(e);return t.isOk()?"application"!==t.value.kind?(0,n._q)(Error("Node is not an application")):(0,n.ok)(t.value):t}getDirectory(e){console.log("[FileSystem] getDirectory called with path:",e),e.endsWith("/")||(e+="/"),console.log("[FileSystem] getDirectory normalized path:",e);let t=this.getNode(e);return(console.log("[FileSystem] getDirectory getNode result:",t.isOk(),t.isOk()?t.value.kind:t.error),t.isOk())?"directory"!==t.value.kind?(console.error("[FileSystem] Node is not a directory, kind:",t.value.kind),(0,n._q)(Error("Node is not a directory"))):(console.log("[FileSystem] getDirectory returning ok with directory"),(0,n.ok)(t.value)):t}getImage(e){let t=this.getNode(e);return t.isOk()?"image"!==t.value.kind?(0,n._q)(Error("Node is not an image")):(0,n.ok)(t.value):t}addApplication(e){var t,i;console.log("[FileSystem] addApplication called for:",e.appName,"at path:",e.path),console.log("[FileSystem] lookupTable keys:",Object.keys(this.lookupTable));let o=this.lookupTable[e.path];if(console.log("[FileSystem] parent found:",null==o?void 0:o.kind,null==o?void 0:o.name),!o||"directory"!==o.kind)return console.error("[FileSystem] Parent is not a directory or not found"),(0,n._q)(Error("Parent is not a directory"));let r=(t=++this.id,i=e.appName,{id:t,parent:o,icon:e.appIcon,kind:"application",name:i,filenameExtension:"",editable:!1,entrypoint:e.entrypoint});this.addNodeToDirectory(o,r);let s=(0,c.tG)(r);return console.log("[FileSystem] Application created at path:",s),this.lookupTable[s]=r,this.propagateNodeEvent(o,{kind:"update"}),(0,n.ok)(r)}addProgram(e,t){var i;let n=(i=++this.id,{id:i,parent:e,kind:"program",name:t.appName,filenameExtension:"",editable:!1,program:t.program});return this.addNodeToDirectory(e,n),this.lookupTable[(0,c.tG)(n)]=n,this.propagateNodeEvent(e,{kind:"update"}),n}addDirectory(e,t,i,n,o){var r;let s=(r=++this.id,{id:r,parent:e,kind:"directory",settings:{alwaysOpenAsIconView:!1,sortBy:null,sortDirection:"horizontal",sortOrigin:"top-left"},content:{view:"icons",width:480,height:800,overflowBehavior:"overflow"},icon:o,name:t,filenameExtension:"",editable:i,editableContent:n,children:new l.sW});return this.addNodeToDirectory(e,s),this.lookupTable[(0,c.tG)(s)]=s,this.propagateNodeEvent(e,{kind:"update"}),s}addTextFile(e,t,i,n){var o;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:".txt",s=(o=++this.id,{id:o,parent:e,kind:"textfile",name:t,filenameExtension:r,content:i,editable:n});return this.addNodeToDirectory(e,s),this.lookupTable[(0,c.tG)(s)]=s,this.propagateNodeEvent(e,{kind:"update"}),s}addImage(e,t,i,n,o,r){var s;let a=(s=++this.id,{id:s,parent:e,kind:"image",name:t,filenameExtension:i,source:n,description:o,editable:r});return this.addNodeToDirectory(e,a),this.lookupTable[(0,c.tG)(a)]=a,this.propagateNodeEvent(e,{kind:"update"}),a}addHyperLink(e,t,i,n,o){var r;let s=(r=++this.id,{id:r,parent:e,target:t,kind:"hyperlink",filenameExtension:"",icon:n,name:i,editable:o});return this.addNodeToDirectory(e,s),this.lookupTable[(0,c.tG)(s)]=s,this.propagateNodeEvent(e,{kind:"update"}),s}addNodeToDirectory(e,t){let{x:i,y:n}=eD(e.settings,e.content,e.children.toArray());t.parent=e;let o={node:t,x:i,y:n};return e.children.append(o),o}removeNodeFromDirectory(e){let t=e.parent;if(!t)return;let i=function(e,t){for(let i of e.children.iterFromTail())if(i.value.node.id===t.id)return(0,n.ok)(i);return(0,n._q)(Error("Unable to find node within the directory chain"))}(t,e);if(!i.isOk())return;let o=i.value;if(t.children.unlink(o),"directory"===o.value.node.kind){let t=(0,c.tG)(e);this.lookupTable[t]&&delete this.lookupTable[t]}}constructor(){this.lookupTable={},this.nodeListeners={},console.log("[FileSystem] Constructor called"),this.root={id:0,parent:null,kind:"directory",settings:{alwaysOpenAsIconView:!1,sortBy:null,sortDirection:"horizontal",sortOrigin:"top-left"},content:{view:"icons",width:480,height:800,overflowBehavior:"overflow"},name:"/",filenameExtension:"",editable:!1,editableContent:!1,children:new l.sW},console.log("[FileSystem] Root node created:",this.root.kind,this.root.name),this.lookupTable["/"]=this.root,console.log("[FileSystem] Root added to lookupTable, keys:",Object.keys(this.lookupTable)),this.id=1}}},9926:(e,t,i)=>{"use strict";i.d(t,{tV:()=>c});var n=i(9299),o=i(8847),r=i.n(o),s=i(9547);let a=r()(()=>Promise.all([i.e(242),i.e(87)]).then(i.bind(i,8087)),{loadableGenerated:{webpack:()=>[8087]}});class l{constructor(){this.displayName="Finder",this.dockPriority=-100,this.path="/Applications/",this.appName="Finder.app",this.appIcon={src:(0,s.A)("/icons/finder-icon.png"),alt:"Finder application"},this.entrypoint=(e,t,i)=>new u(e,t,i)}}let c=new l;class u extends n.l{config(){return c}menuEntries(){return[{displayOptions:{boldText:!0},name:"Finder",items:[{kind:"action",value:"Open window",action:()=>this.openNewWindow("/Users/hayley/")}]}]}openNewWindow(e){let t=this.compositor.open({x:100,y:80,height:400,width:670,title:"Finder",application:this,args:e,generator:()=>a});t.minimalHeight=250,t.minimalWidth=400}on(e,t){if("application-open"===e.kind){if(e.isFirst)return;let t=0!==e.args.length?e.args:"/Users/hayley/";this.openNewWindow(t)}if("finder-open-file-event"===e.kind){if(!t)return;this.manager.open('"'.concat(e.path,'"'))}}}}}]);